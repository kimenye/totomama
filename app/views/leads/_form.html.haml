= form_for @lead do |f|
  - if @lead.errors.any?
    #error_explanation
      %h2= "#{pluralize(@lead.errors.count, "error")} prohibited this lead from being saved:"
      %ul
        - @lead.errors.full_messages.each do |msg|
          %li= msg
  .row
    .large-12.columns.large-centered.form-bg
      %img{:src => "/assets/banner.jpg"}
  .row
    .large-12.columns.large-centered.form-bg
      %h4 LIST YOUR BUSINESS WITH US
      %p Do you want to reach parents and guardians across Kenya?  Welcome to Toto & Mama Online Directory where our members are your customers. 
      %p We understand why you started your business and want to make it easier for your primary customers - expectant women, new parents, parents of babies, toddlers and older children - to find your business, products and services.
  .row
    %h4 Why list with us?
    .large-6.columns
      %h6 No Cost
      %p We are offering you an opportunity to list your business for free on our website.
    .large-6.columns
      %h6 Accessibility
      %p Your business will easily be reachable just by a click of a button.
    .large-6.columns
      %h6 Increased Business
      %p A direct link from our website will help with the growth of traffic to your business.
    .large-6.columns
      %h6 Feedback
      %p You will enjoy real-time customer comments and reviews that will help you improve your business.
    .large-6.columns
      %h6 Innovative Marketing
      %p At Toto & Mama we have a dedicated team that will provide you with new and innovative ways to promote your business.
    .large-6.columns
      %h6 Register Your Business With Us
      %p For further information, email us on 
      %a{:href => 'mailto:habari@totomama.co.ke'} habari@totomama.co.ke
  .row
    .orbit-container
      %ul.register-orbit.orbit-slides-container{"data-orbit" => ""}
        %li{"data-orbit-slide" => "register-1"}
          %h3 Register your business with us today
          .large-6.columns.main_form
            .row
              .large-12.columns
                .field
                  = f.text_field :name, :placeholder => "What is your Business/listing name", :required => "required"
            .row
              .large-12.columns
                .field
                  =f.label :hours, "Operating Hours: 9:00am - 5:00pm"
                  = f.text_field :hours, :id => "hours", :placeholder => "Use the Slider to Select Time Range"
                  #slider-range
                  %br
            .row
              .large-12.columns
                .field
                  = f.select :business_type, options_for_select(@type_options.collect{ |u| [u,u] }), {:prompt => 'What is the nature of your business', :required => "required"}
            .row
              .large-12.columns
                .field
                  = f.select :business_target, options_for_select(@target_options.collect{ |u| [u, u] }),{:prompt => "Who is your business target", :required => "required"}
            .row
              .large-12.columns
                .field
                  = f.text_area :description, :placeholder => "Explain what your business is about", :required => "required"
                  %br
                  %a.small.button{"data-orbit-link" => "register-2"}Next
        %li{"data-orbit-slide" => "register-2"}
          .large-6.columns.main_form
            .row
              .large-12.columns
                .field
                  = f.text_field :physical_address_number, :placeholder => "Shop No./House No./Gate No./LR Plot No."
            .row
              .large-12.columns
                .field
                  = f.text_field :physical_address_floor, :placeholder => "Floor"
            .row
              .large-12.columns  
                .field
                  = f.text_field :physical_address_building, :placeholder => "Building Name"
            .row
              .large-12.columns
                .field
                  = f.text_field :physical_address_street, :placeholder => "Street"
            .row
              .large-12.columns
                .field
                  = f.text_field :physical_address_city, :placeholder => "City/Town"
            .row
              .large-12.columns  
                .field
                  = f.text_field :physical_address_county, :placeholder => "County"
            .row
              .large-12.columns  
                %h4 Contact Details
                .field
                  = f.text_field :postal_address_number, :placeholder => "Postcode - Postal Address"
            .row
              .large-12.columns  
                .field
                  = f.telephone_field :phone_number, :placeholder => "Mobile No.", :required => "required"
            .row
              .large-12.columns  
                .field
                  = f.email_field :email, :placeholder => "Email Address", :required => "required"
            .row
              .large-12.columns  
                .field
                  = f.text_field :postal_address_county, :placeholder => "County"
            .row
              .large-12.columns  
                .field.captcha
                  - if flash[:notice]
                    .notice
                      = flash[:notice]
                  = show_visual_captcha(:type => :horizontal)
            .row
              .large-12.columns  
                .actions
                  = f.submit 'Save',  :class => "button medium"
                  %br
                  %a.small.button{"data-orbit-link" => "register-1"}Previous
    
:javascript

  $(function() {

    $("#slider-range").slider({
          range: true,
          min: 0,
          max: 1440,
          step: 15,
          values: [600, 720],
          slide: function (e, ui) {
              var hours1 = Math.floor(ui.values[0] / 60);
              var minutes1 = ui.values[0] - (hours1 * 60);

              if (hours1.length == 1) hours1 = '0' + hours1;
              if (minutes1.length == 1) minutes1 = '0' + minutes1;
              if (minutes1 == 0) minutes1 = '00';
              if (hours1 >= 12) {
                  if (hours1 == 12) {
                      hours1 = hours1;
                      minutes1 = minutes1 + " PM";
                  } else {
                      hours1 = hours1 - 12;
                      minutes1 = minutes1 + " PM";
                  }
              } else {
                  hours1 = hours1;
                  minutes1 = minutes1 + " AM";
              }
              if (hours1 == 0) {
                  hours1 = 12;
                  minutes1 = minutes1;
              }



              $( "#hours" ).val(hours1 + ':' + minutes1);

              var hours2 = Math.floor(ui.values[1] / 60);
              var minutes2 = ui.values[1] - (hours2 * 60);

              if (hours2.length == 1) hours2 = '0' + hours2;
              if (minutes2.length == 1) minutes2 = '0' + minutes2;
              if (minutes2 == 0) minutes2 = '00';
              if (hours2 >= 12) {
                  if (hours2 == 12) {
                      hours2 = hours2;
                      minutes2 = minutes2 + " PM";
                  } else if (hours2 == 24) {
                      hours2 = 11;
                      minutes2 = "59 PM";
                  } else {
                      hours2 = hours2 - 12;
                      minutes2 = minutes2 + " PM";
                  }
              } else {
                  hours2 = hours2;
                  minutes2 = minutes2 + " AM";
              }

              $( "#hours" ).val(hours1 + ':' + minutes1 + " - " + hours2 + ':' + minutes2);
          }
      });

  });
